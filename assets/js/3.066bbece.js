(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{363:function(t,s,a){t.exports=a.p+"assets/img/spotifydashboard.cf877695.png"},364:function(t,s){t.exports="data:image/png;base64,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"},365:function(t,s,a){t.exports=a.p+"assets/img/architecture.872c37a2.png"},366:function(t,s,a){t.exports=a.p+"assets/img/spotify_auth.b7a5f7a8.png"},367:function(t,s,a){t.exports=a.p+"assets/img/spotify_redirecturi.2365a491.png"},380:function(t,s,a){"use strict";a.r(s);var n=a(26),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"use-the-spotify-api"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#use-the-spotify-api"}},[t._v("#")]),t._v(" Use the Spotify API")]),t._v(" "),n("p",[t._v("There are various possibilities to integrate the Spotify API into your own application.\nWe could either access directly the REST endpoints or use a wrapper API.\nIn this chapter you will learn how to connect to the Spotify API using a Java wrapper.")]),t._v(" "),n("h2",{attrs:{id:"set-up-your-developer-account"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#set-up-your-developer-account"}},[t._v("#")]),t._v(" Set up your developer account")]),t._v(" "),n("p",[t._v("Prior to using the Spotify API you have to create a developer account. Navigate to "),n("a",{attrs:{href:"https://developer.spotify.com/dashboard/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://developer.spotify.com/dashboard/"),n("OutboundLink")],1),t._v(" and log in with your account. Create a new app.")]),t._v(" "),n("p",[n("img",{attrs:{src:a(363),alt:"Create a new application on the Spotify Dashboard"}})]),t._v(" "),n("p",[t._v("Select "),n("code",[t._v("No")]),t._v(" when asked if you want to develop a commercial integration.\nYou have to agree to the license agreements in order to use the API.")]),t._v(" "),n("p",[t._v("On the next page you can now look up your Client ID and secret, which are needed for accessing the Spotify API from your application.")]),t._v(" "),n("p",[n("img",{attrs:{src:a(364),alt:"Client ID and secret can be seen on the Spotify developer portal"}})]),t._v(" "),n("p",[t._v("In the "),n("code",[t._v("application.properties")]),t._v(" in the "),n("code",[t._v("resources")]),t._v(" directory, we are adding the client id and secret as properties.")]),t._v(" "),n("div",{staticClass:"language-properties extra-class"},[n("pre",{pre:!0,attrs:{class:"language-properties"}},[n("code",[n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("spotifyPlaylist.clientId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("YOUR CLIENT ID")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("spotifyPlaylist.clientSecret")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("YOUR CLIENT SECRET")]),t._v("\n")])])]),n("p",[t._v("The properties in the application.properties could also be set directly when starting the application by command line arguments.")]),t._v(" "),n("h2",{attrs:{id:"architecture"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#architecture"}},[t._v("#")]),t._v(" Architecture")]),t._v(" "),n("p",[t._v("The following figure shows the classes, we are going to implement.")]),t._v(" "),n("p",[n("img",{attrs:{src:a(365),alt:"Architecture of the backend"}})]),t._v(" "),n("p",[t._v("We can already create the model class "),n("code",[t._v("Track")]),t._v(" inside the "),n("code",[t._v("domain")]),t._v(" package.")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Track")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" uri"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" artists"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Track")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" uri"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" artists"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("uri "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" uri"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("artists "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" artists"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* getters */")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("Simultaneously, we can create the "),n("code",[t._v("TrackDto")]),t._v(" class inside the "),n("code",[t._v("api")]),t._v(" package.\nIt looks very similar to the "),n("code",[t._v("Track")]),t._v(" class, however it also contains a "),n("code",[t._v("map")]),t._v(" method, which maps a "),n("code",[t._v("Track")]),t._v(" to a "),n("code",[t._v("TrackDto")]),t._v(".")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TrackDto")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" uri"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" artists"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TrackDto")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" uri"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" artists"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("uri "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" uri"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("artists "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" artists"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* getters */")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TrackDto")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Track")]),t._v(" track"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TrackDto")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("track"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUri")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" track"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTitle")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" track"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getArtists")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("We are creating those two very similar classes, because they serve different purposes.\n"),n("code",[t._v("Track")]),t._v(" is used internally as an entity, which will be mapped to from the corresponding classes of the Spotify Web API.\n"),n("code",[t._v("TrackDto")]),t._v(" is used as the DTO, which is sent over the web by the REST controller.")]),t._v(" "),n("h2",{attrs:{id:"login-to-the-spotify-web-api"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#login-to-the-spotify-web-api"}},[t._v("#")]),t._v(" Login to the Spotify Web API")]),t._v(" "),n("p",[t._v("We are using the Java wrapper API "),n("a",{attrs:{href:"https://github.com/thelinmichael/spotify-web-api-java",target:"_blank",rel:"noopener noreferrer"}},[t._v("thelinmichael/spotify-web-api-java"),n("OutboundLink")],1),t._v(" for accessing the Web API of Spotify.")]),t._v(" "),n("p",[t._v("Add the dependency to your "),n("code",[t._v("build.gradle")]),t._v(" file:")]),t._v(" "),n("div",{staticClass:"language-groovy extra-class"},[n("pre",{pre:!0,attrs:{class:"language-groovy"}},[n("code",[t._v("dependencies "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n    implementation "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'se.michaelthelin.spotify:spotify-web-api-java:2.1.2'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("For accessing the API we have to authenticate the application first.\nThe image below shows the authentication flow for getting a token on the backend.")]),t._v(" "),n("p",[n("img",{attrs:{src:a(366),alt:"Authorization Spotify API"}})]),t._v(" "),n("p",[t._v("When the user opens the "),n("code",[t._v("/api/login")]),t._v(" endpoint with his browser, the backend should redirect him to the login page of Spotify.\nAfter logging in on the Spotify website it redirects the user back to a defined URL, which can be chosen by the developer.\nFor this we add another property in the "),n("code",[t._v("application.properties")]),t._v(" file.")]),t._v(" "),n("div",{staticClass:"language-properties extra-class"},[n("pre",{pre:!0,attrs:{class:"language-properties"}},[n("code",[n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("spotifyPlaylist.redirectUrl")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("http://localhost:8080/api/spotify-redirect")]),t._v("\n")])])]),n("p",[t._v("For this application we are making some compromises, which limit the ability of our application to scale.\nE.g. we are storing the token on the backend.\nThe way we are going to implement this, makes the application only usable for editing one user's playlist at a time.")]),t._v(" "),n("p",[t._v("Now we start with the implementation.\nWe create the interface "),n("code",[t._v("StreamingProvider")]),t._v(" inside the "),n("code",[t._v("domain")]),t._v(" package.\nThis interface will be implemented by a class which connects to the Spotify Web API wrapper.\nThe goal of this abstraction is, that we could easily replace the access to the Spotify API and use Google Play Music or other streaming providers instead, if we wanted to.")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StreamingProvider")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URI")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAuthorizationCodeUri")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("receiveToken")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" code"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Track")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTracksOfPlaylist")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" playlistId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("The next step is to implement this interface with the "),n("code",[t._v("SpotifyClient")]),t._v(" class inside the "),n("code",[t._v("spotifyapi")]),t._v(" package.")]),t._v(" "),n("p",[t._v("This class connects to the Spotify Web API through the dependency we added.\nYou can see that we inject with "),n("code",[t._v("@Value")]),t._v(" the properties we have set in "),n("code",[t._v("application.properties")]),t._v(" into the constructor.\nIn the constructor we instantiate an object of the "),n("code",[t._v("SpotifyApi")]),t._v(" class.\nThe "),n("code",[t._v("SpotifyApi")]),t._v(" class is part of the wrapper library.")]),t._v(" "),n("p",[t._v("The "),n("code",[t._v("@Component")]),t._v(" annotation before the class definition is needed by Spring Boot and it will allow us to inject instances of this class as a dependency into other classes.")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Component")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SpotifyClient")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StreamingProvider")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SpotifyApi")]),t._v(" spotifyApi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SpotifyClient")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"${spotifyPlaylist.clientId}"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" clientId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                             "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"${spotifyPlaylist.clientSecret}"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" clientSecret"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                             "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"${spotifyPlaylist.redirectUrl}"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" redirectUrl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URI")]),t._v(" uri "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SpotifyHttpManager")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("makeUri")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("redirectUrl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        spotifyApi "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SpotifyApi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Builder")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setClientId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("clientId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setClientSecret")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("clientSecret"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setRedirectUri")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uri"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URI")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAuthorizationCodeUri")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("receiveToken")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" code"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Track")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTracksOfPlaylist")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" playlistId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Collections")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("emptyList")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("Now we can start with implementing the methods of the interface.\nWe implement the method "),n("code",[t._v("getAuthorizationCodeUri")]),t._v(", which generates the URI to the Spotify login page.\nThis URI will contain the client id and redirect URI back to our application as parameters.\nThe scope tells Spotify, which access rights the user needs to grant the application for using it.")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URI")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAuthorizationCodeUri")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AuthorizationCodeUriRequest")]),t._v(" authorizationCodeUriRequest "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" spotifyApi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("authorizationCodeUri")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("scope")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"playlist-modify"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" authorizationCodeUriRequest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("execute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("Now we implement another interface "),n("code",[t._v("PlaylistProvider")]),t._v(" inside the "),n("code",[t._v("domain")]),t._v(" package.\nThis interface will be implemented by classes, which are an abstraction between the REST controller and the class which accesses the Spotify Web API.")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PlaylistProvider")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URI")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAuthorizationCodeUri")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("receiveToken")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" code"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Track")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTracksForPlaylist")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("As you can see this interface is pretty similar to the "),n("code",[t._v("StreamingProvider")]),t._v(" interface, however, they serve different purposes.")]),t._v(" "),n("p",[t._v("We implement this interface in the "),n("code",[t._v("PlaylistService")]),t._v(" class inside the "),n("code",[t._v("domain")]),t._v(" package, which separates the access to the Spotify API from the business logic of our application.\nWe inject an object of the "),n("code",[t._v("StreamingProvider")]),t._v(" interface in the constructor.\nSpring Boot recognizes that "),n("code",[t._v("SpotifyClient")]),t._v(" is an implementation of "),n("code",[t._v("StreamingProvider")]),t._v(" and will therefore inject an instance of "),n("code",[t._v("SpotifyClient")]),t._v(".")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Service")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PlaylistService")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PlaylistProvider")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StreamingProvider")]),t._v(" streamingProvider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Autowired")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PlaylistService")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StreamingProvider")]),t._v(" streamingProvider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("streamingProvider "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" streamingProvider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URI")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAuthorizationCodeUri")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" streamingProvider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAuthorizationCodeUri")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("receiveToken")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" code"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Track")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTracksForPlaylist")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Collections")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("emptyList")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("The "),n("code",[t._v("getAuthorizationCodeUri")]),t._v(" method of the "),n("code",[t._v("PlaylistService")]),t._v(" does nothing else than calling the corresponding method in the "),n("code",[t._v("StreamingProvider")]),t._v(" implementation.")]),t._v(" "),n("p",[t._v("We create a controller "),n("code",[t._v("PlaylistController")]),t._v(" inside the "),n("code",[t._v("api")]),t._v(" package, which will handle all the requests to our backend server.\nIt has to serve the "),n("code",[t._v("/api/login")]),t._v(" endpoint, which redirects the user to the Spotify login page.\nThe URI to which the user is redirected can be received from an implementation of the "),n("code",[t._v("PlaylistProvider")]),t._v(" interface, which we inject with the constructor.\nThis endpoint is used so that the user does not need to know the client secret from the Spotify API.")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@RestController")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@CrossOrigin")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@RequestMapping")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/api"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PlaylistController")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PlaylistProvider")]),t._v(" playlistProvider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Autowired")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PlaylistController")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PlaylistProvider")]),t._v(" playlistProvider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("playlistProvider "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" playlistProvider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/login"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RedirectView")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("login")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URI")]),t._v(" uri "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" playlistProvider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAuthorizationCodeUri")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RedirectView")]),t._v(" redirectView "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RedirectView")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        redirectView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setUrl")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uri"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" redirectView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/spotify-redirect"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("redirect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@RequestParam")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" code"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" code"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("If you start the application now and navigate to "),n("a",{attrs:{href:"http://localhost:8080/api/login",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:8080/api/login"),n("OutboundLink")],1),t._v(" in a browser you will be seeing an error message:")]),t._v(" "),n("p",[n("code",[t._v("INVALID_CLIENT: Invalid redirect URI")])]),t._v(" "),n("p",[t._v("This is because we have to whitelist all our redirect URLs on the Spotify API website.\nFor doing this navigate to "),n("a",{attrs:{href:"https://developers.spotify.com/dashboard",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://developers.spotify.com/dashboard"),n("OutboundLink")],1),t._v(" and click on your application.\nThen click on the green "),n("code",[t._v("Edit settings")]),t._v(" button and add a redirect URL.")]),t._v(" "),n("p",[n("img",{attrs:{src:a(367),alt:"Add a redirect URI on the Spotify developer dashboard"}})]),t._v(" "),n("p",[t._v("If you try to access "),n("a",{attrs:{href:"http://localhost:8080/api/login",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:8080/api/login"),n("OutboundLink")],1),t._v(" again, you should be redirected to the Spotify login.\nMaybe you are going to be asked, if you want to give your application the permission to access your account with it.\nAfter a successful login you should be redirected back to your backend application and should see the authorization code in your browser.")]),t._v(" "),n("p",[t._v("Getting the authorization code is just an intermediate step in getting the token for gaining access to the api.\nTherefore we have to implement a new method in "),n("code",[t._v("SpotifyClient")]),t._v(" to receive a token from a valid auth code.\nIf we have the token, we can store it directly within the "),n("code",[t._v("spotifyApi")]),t._v(" instance.\nThe token is lost when the application is restarted.")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("receiveToken")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" code"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AuthorizationCodeRequest")]),t._v(" authorizationCodeRequest "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" spotifyApi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("authorizationCode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("code"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AuthorizationCodeCredentials")]),t._v(" authorizationCodeCredentials "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" authorizationCodeRequest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("execute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        spotifyApi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAccessToken")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("authorizationCodeCredentials"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAccessToken")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        spotifyApi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setRefreshToken")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("authorizationCodeCredentials"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRefreshToken")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IOException")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SpotifyWebApiException")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Error: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("Now that we have this method, we just have to call it in the "),n("code",[t._v("PlaylistService")]),t._v(" and "),n("code",[t._v("PlaylistController")]),t._v(".")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// PlaylistService")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("receiveToken")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" code"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    streamingProvider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("receiveToken")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("code"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// PlaylistController")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/spotify-redirect"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("redirect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@RequestParam")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" code"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    playlistProvider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("receiveToken")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("code"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" code"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("If you restart the application and navigate to "),n("a",{attrs:{href:"http://localhost:8080/api/login",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:8080/api/login"),n("OutboundLink")],1),t._v(", the application does the same thing as before.\nBut under the hood, the token is set in the "),n("code",[t._v("SpotifyApi")]),t._v(" instance and the api now can be used for accessing playlists and tracks.")]),t._v(" "),n("h2",{attrs:{id:"get-all-tracks-of-a-playlist-from-spotify"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#get-all-tracks-of-a-playlist-from-spotify"}},[t._v("#")]),t._v(" Get all tracks of a playlist from Spotify")]),t._v(" "),n("p",[t._v("First we create the endpoint "),n("code",[t._v("/playlists/tracks")]),t._v(" for getting the tracks of a playlist in our "),n("code",[t._v("PlaylistController")]),t._v(".\nWe want this endpoint to return a list of tracks.\nWe can already call the corresponding method of the "),n("code",[t._v("PlaylistProvider")]),t._v(" implementation, however, we need to map from "),n("code",[t._v("Track")]),t._v(" to "),n("code",[t._v("TrackDto")]),t._v(".")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/playlists/tracks"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TrackDto")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTracksForPlaylist")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" playlistProvider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTracksForPlaylist")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TrackDto")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("collect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Collectors")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toList")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("Spring Boot will automatically translate the returned list of "),n("code",[t._v("TrackDto")]),t._v(" to a JSON representation when calling the REST endpoint.")]),t._v(" "),n("p",[t._v("We have to call the "),n("code",[t._v("getTracksOfPlaylist")]),t._v(" method of the "),n("code",[t._v("StreamingProvider")]),t._v(" implementation in the "),n("code",[t._v("PlaylistService")]),t._v(".\nFor this example we use a hardcoded playlist ID.\nCreate a new Spotify playlist, add some tracks and copy the ID at the end of the playlist URL.")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Track")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTracksForPlaylist")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" streamingProvider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTracksOfPlaylist")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"YOUR PLAYLIST ID"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("EXERCISE")]),t._v(" "),n("p",[t._v("Extract the playlist ID to a property.")])]),t._v(" "),n("p",[t._v("In the class "),n("code",[t._v("SpotifyClient")]),t._v(" we have to implement a method for accessing playlist throught the wrapper API.\nYou can find examples on how to request playlist tracks from the API on "),n("a",{attrs:{href:"https://github.com/thelinmichael/spotify-web-api-java/blob/master/examples/data/playlists/GetPlaylistsTracksExample.java",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github"),n("OutboundLink")],1),t._v(".")]),t._v(" "),n("p",[t._v("The Spotify API returns a "),n("code",[t._v("Paging")]),t._v(" object which is a container for multiple "),n("code",[t._v("PlaylistTrack")]),t._v(" objects.\nIf you look at the code of those classes it becomes clear, that we have to map the "),n("code",[t._v("Track")]),t._v(" from the wrapper library inside the "),n("code",[t._v("PlaylistTrack")]),t._v(" to our own "),n("code",[t._v("Track")]),t._v(" entity, because that is the expected return value of the "),n("code",[t._v("getTracksOfPlaylist")]),t._v(" method.\nFor doing this, we implement a "),n("code",[t._v("map")]),t._v(" method inside "),n("code",[t._v("SpotifyClient")]),t._v(" and map all entities in the "),n("code",[t._v("getTracksOfPlaylist")]),t._v(" method.")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Track")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wrapper"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("spotify"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("model_objects"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("specification"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("Track")]),t._v(" track"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Track")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("track"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUri")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" track"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Arrays")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("track"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getArtists")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArtistSimplified")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("collect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Collectors")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toList")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Track")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTracksOfPlaylist")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" playlistId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GetPlaylistsTracksRequest")]),t._v(" getPlaylistRequest "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" spotifyApi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPlaylistsTracks")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("playlistId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Paging")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PlaylistTrack")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" paging "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" getPlaylistRequest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("execute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Arrays")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("paging"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItems")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PlaylistTrack")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTrack")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SpotifyClient")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("collect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toList")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IOException")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SpotifyWebApiException")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Error: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("emptyList")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("Now you can start the application, "),n("a",{attrs:{href:"http://localhost:8080/api/login",target:"_blank",rel:"noopener noreferrer"}},[t._v("login"),n("OutboundLink")],1),t._v(" and access the "),n("a",{attrs:{href:"http://localhost:8080/api/playlists/tracks",target:"_blank",rel:"noopener noreferrer"}},[t._v("tracks of your playlist"),n("OutboundLink")],1),t._v(".")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("EXERCISE")]),t._v(" "),n("ul",[n("li",[t._v("The heroku "),n("code",[t._v("config")]),t._v(" commands makes it easy to manage your apps config vars.")])]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("heroku config:set spotifyPlaylist.clientId"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("CLIENT ID"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nheroku config:set spotifyPlaylist.clientSecret"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("CLIENT SECRET"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nheroku config:set spotifyPlaylist.playlistId"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("PLAYLIST ID"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nheroku config:set spotifyPlaylist.redirectUrl"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("https://"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("APPLICATION NAME"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(".herokuapp.com/api/spotify-redirect\n")])])]),n("ul",[n("li",[t._v("Push your changes to Heroku and test the application.")])])]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("EXERCISE")]),t._v(" "),n("p",[t._v("Create the following endpoint:")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("GET /api/tracks?query={queryString}\n")])])]),n("p",[t._v("The request takes a GET parameter "),n("code",[t._v("query")]),t._v(" which is a String.\nThe endpoint should search tracks which match the query and return a list of tracks.\nLimit the result to 10 entries.\nYou can have a look at the "),n("a",{attrs:{href:"https://github.com/thelinmichael/spotify-web-api-java/blob/master/examples/data/search/simplified/SearchTracksExample.java",target:"_blank",rel:"noopener noreferrer"}},[t._v("example"),n("OutboundLink")],1),t._v(" provided by the Java wrapper Github project.")]),t._v(" "),n("p",[t._v("Add the necessary methods to the interfaces.")]),t._v(" "),n("h3",{attrs:{id:"example-call"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#example-call"}},[t._v("#")]),t._v(" Example call")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" http://localhost:8080/api/tracks?query"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("aaa\n")])])]),n("h3",{attrs:{id:"example-result"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#example-result"}},[t._v("#")]),t._v(" Example result")]),t._v(" "),n("p",[t._v("The call should respond with HTTP status code 200.")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"uri"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"spotify:track:4TI9XHuNZMQWNSN77inA3b"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Genesis (Live / AAA)"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"artists"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Justice"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])])]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("EXERCISE")]),t._v(" "),n("p",[t._v("Create a new endpoint, which allows the insertion of multiple tracks to the playlist.")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("POST /api/playlists/tracks\n")])])]),n("p",[t._v("In the body of the request the endpoint expects a list of strings, which represent the track URIs.")]),t._v(" "),n("p",[t._v("Add the necessary methods to the interfaces.")]),t._v(" "),n("h3",{attrs:{id:"example-call-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#example-call-2"}},[t._v("#")]),t._v(" Example call")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[t._v("curl --header "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type: application/json"')]),t._v(" \\\n    --request POST \\\n    --data '"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"spotify:track:4TI9XHuNZMQWNSN77inA3b"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"spotify:track:6dX3nqfZpmktmO26eWdYw4"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("' \\\n    http"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//localhost:8080/api/playlists/tracks")]),t._v("\n")])])]),n("h3",{attrs:{id:"example-result-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#example-result-2"}},[t._v("#")]),t._v(" Example result")]),t._v(" "),n("p",[t._v("The call should respond with HTTP status code 200 and the tracks are added to the playlist.")])])])}),[],!1,null,null,null);s.default=e.exports}}]);